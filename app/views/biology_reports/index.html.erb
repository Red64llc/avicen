<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">Biology Reports</h1>
    <div class="flex gap-2">
      <%= link_to "View Biomarker Trends", biomarkers_path, class: "btn btn-secondary" %>
      <%= link_to "New Report", new_biology_report_path, class: "btn btn-primary" %>
    </div>
  </div>

  <!-- Filter Form -->
  <div class="bg-white rounded-lg shadow p-6 mb-6">
    <%= form_with url: biology_reports_path, method: :get, data: { controller: "filter-form", turbo_frame: "biology_reports_list" }, class: "space-y-4" do |f| %>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <%= f.label :date_from, "From Date", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.date_field :date_from, value: params[:date_from], class: "input", data: { action: "change->filter-form#filterChange" } %>
        </div>
        <div>
          <%= f.label :date_to, "To Date", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.date_field :date_to, value: params[:date_to], class: "input", data: { action: "change->filter-form#filterChange" } %>
        </div>
        <div>
          <%= f.label :lab_name, "Laboratory", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.text_field :lab_name, value: params[:lab_name], placeholder: "Search by lab name...", class: "input", data: { action: "input->filter-form#filterInput" } %>
        </div>
      </div>
      <div class="flex justify-end">
        <%= f.submit "Filter", class: "btn btn-primary" %>
        <%= link_to "Clear", biology_reports_path, class: "btn btn-secondary ml-2" %>
      </div>
    <% end %>
  </div>

  <!-- Reports List -->
  <%= turbo_frame_tag "biology_reports_list" do %>
    <%= render partial: "biology_reports_list", locals: { biology_reports: @biology_reports } %>
  <% end %>
</div>
